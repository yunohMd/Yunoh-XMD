const config = require('../config')
const { cmd, commands } = require('../command');
const os = require("os")
const fs = require("fs")
const path = require("path")
const { runtime } = require('../lib/functions')
const axios = require('axios')

cmd({
    pattern: "menu",
    alias: "command",
    desc: "menu the bot",
    category: "menu",
    react: "ğŸš€",
    filename: __filename
},
async (conn, mek, m, {
    from, quoted, body, isCmd, command, args, q, isGroup,
    sender, senderNumber, botNumber2, botNumber, pushname,
    isMe, isOwner, groupMetadata, groupName, participants,
    groupAdmins, isBotAdmins, isAdmins, reply
}) => {
    try {
        let info = `
â•­â”â”ã€” *${config.BOT_NAME}* ã€•â”â”â•®
â”ƒ ğŸ‘‘ Owner     : *${config.OWNER_NAME}*
â”ƒ ğŸ™‹â€â™‚ï¸ User      : *${m.pushName}*
â”ƒ âš™ï¸ Mode      : *${mode}*
â”ƒ ğŸ’» Platform  : *${os.platform()}*
â”ƒ ğŸ”¤ Prefix    : [${prefix}]
â”ƒ ğŸ§© Version   : *1.0*
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•â•â•â•£

> ${pushwish} *${m.pushName}*!

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *á´„á´É´á´ á´‡Ê€á´›á´‡Ê€ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ğŸ’« É¢á´˜á´› 
â•‘ â€¢ğŸ’« á´€Éª 
â•‘ â€¢ğŸ’« á´ á´  
â•‘ â€¢ğŸ’« á´ á´ ğŸ® 
â•‘ â€¢ğŸ’« Ê™ÉªÊ™ÊŸá´‡ 
â•‘ â€¢ğŸ’« á´„Êœá´€É´É´á´‡ÊŸ
â•‘ â€¢ğŸ’« á´œÉ´Ê™ÊŸá´á´„á´‹ 
â•‘ â€¢ğŸ’« Ê™ÊŸá´á´„á´‹ 
â•‘ â€¢ğŸ’« á´œá´˜á´›Éªá´á´‡
â•‘ â€¢ğŸ’« á´„Êœá´‡á´„á´‹á´œá´˜á´…á´€á´›á´‡ 
â•‘ â€¢ğŸ’« á´„Êœá´‡á´„á´‹
â•‘ â€¢ğŸ’« á´ŠÉªá´… 
â•‘ â€¢âœ¨ á´˜ÉªÉ´É¢ 
â•‘ â€¢ğŸ’« á´˜á´€ÉªÊ€
â•‘ â€¢âœ¨ á´á´¡É´á´‡Ê€ 
â•‘ â€¢ğŸ’« É¢á´‡á´›á´˜á´˜ 
â•‘ â€¢ğŸ’« É¢Éªá´›á´„ÊŸá´É´á´‡ 
â•‘ â€¢ğŸ’« É¢Éªá´›Êœá´œÊ™ 
â•‘ â€¢ğŸ­ ÊŸÉªğ˜€á´›á´É´ÊŸÉªÉ´á´‡ 
â•‘ â€¢ğŸ­ ÊŸá´É¢á´á´á´‡É´á´œ 
â•‘ â€¢ğŸ­ á´€ÊŸÉªá´ á´‡ 
â•‘ â€¢ğŸ­ á´á´‡É´á´œ 
â•‘ â€¢âœ¨ Ê€á´‡á´˜á´ 
â•‘ â€¢ğŸ­ ğ˜€á´›á´€Ê™ÊŸá´‡á´…ÉªÒ“Ò“á´œğ˜€Éªá´É´ 
â•‘ â€¢ğŸ­ Ê€á´Ê™É¢ 
â•‘ â€¢ğŸ­ ÉªÊÊ€Éªá´„ğ˜€ 
â•‘ â€¢ğŸ’« É¢á´˜á´€ğ˜€ğ˜€ 
â•‘ â€¢ğŸ’« á´‡Ê™ÉªÉ´á´€Ê€Ê 
â•‘ â€¢ğŸ’« á´…Ê™ÉªÉ´á´€Ê€Ê 
â•‘ â€¢ğŸ’« á´‡á´á´á´ŠÉªá´Éªğ˜… 
â•‘ â€¢ğŸ’« á´á´˜ğŸ¯ 
â•‘ â€¢ğŸ’« á´€á´›á´›á´˜ 
â•‘ â€¢âœ¨ á´˜á´ğ˜€á´› 
â•‘ â€¢âœ¨ Êœá´€á´„á´‹ 
â•‘ â€¢âœ¨ á´˜Ê€á´€Êá´›Éªá´á´‡ 
â•‘ â€¢âœ¨ Ç«á´œÊ€á´€É´ 
â•‘ â€¢âœ¨ Ç«á´œÊ€á´€É´á´á´‡É´á´œ
â•‘ â€¢âœ¨ Ê€á´‡ğ˜€á´›á´€Ê€á´› 
â•‘ â€¢âœ¨ ğ˜€á´‡É´á´… 
â•‘ â€¢âœ¨ ğ˜€á´›Éªá´„á´‹á´‡Ê€ 
â•‘ â€¢âœ¨ á´›á´€á´‹á´‡ 
â•‘ â€¢âœ¨ á´˜á´‡Ê€ğ˜€á´É´ 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *á´›á´á´ÊŸğ˜€ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ğŸ­ Ò“Ê™
â•‘ â€¢ğŸ­ á´˜ÊŸá´€Ê 
â•‘ â€¢ğŸ­ á´˜ÊŸá´€ÊğŸ­ 
â•‘ â€¢ğŸ­ á´˜ÊŸá´€ÊğŸ® 
â•‘ â€¢ğŸ­ á´€á´˜á´‹ 
â•‘ â€¢ğŸ­ á´ Éªá´…á´‡á´ 
â•‘ â€¢ğŸ­ á´ Éªá´…á´‡á´ğŸ­ 
â•‘ â€¢ğŸ­ á´›á´á´á´˜ğŸ° 
â•‘ â€¢ğŸ­ á´›á´á´á´˜ğŸ¯ 
â•‘ â€¢ğŸ­ Éªá´É¢ 
â•‘ â€¢ğŸ­ á´›Éªá´‹á´›á´á´‹ 
â•‘ â€¢ğŸ­ Ò“á´€É´á´„Ê 
â•‘ â€¢ğŸ­ É¢á´‡á´›Éªá´á´€É¢á´‡ 
â•‘ â€¢ğŸ­ Éªá´É¢ğ˜€á´„á´€É´ 
â•‘ â€¢ğŸ­ Êœá´‡ÊŸá´˜-á´„á´á´…á´‡
â•‘ â€¢ğŸ­ ğ˜€á´›á´€Ê™ÉªÊŸÉªá´›Êá´€Éª 
â•‘ â€¢ğŸ­ Ò“ÊŸá´œğ˜…á´€Éª 
â•‘ â€¢ğŸ­ ğ˜€á´›á´€Ê™ÊŸá´‡á´…ÉªÒ“Ò“á´œğ˜€Éªá´É´ 
â•‘ â€¢ğŸ­ Ê€á´Ê™É¢ 
â•‘ â€¢ğŸ­ ÉªÊÊ€Éªá´„ğ˜€ 
â•‘ â€¢ğŸ­ Ò“ÊŸá´œğ˜…á´€Éª 
â•‘ â€¢âœ¨ á´á´á´ Éªá´‡ 
â•‘ â€¢âœ¨ É´á´‡á´¡ğ˜€ 
â•‘ â€¢âœ¨ ğ˜€á´„Ê€á´‡á´‡É´ğ˜€Êœá´á´› 
â•‘ â€¢âœ¨ Ê€á´¡ 
â•‘ â€¢âœ¨ á´›ÉªÉ´Ê 
â•‘ â€¢âœ¨ á´›Éªá´‹á´›á´á´‹ğ˜€á´‡á´€Ê€á´„Êœ 
â•‘ â€¢âœ¨ á´›á´á´˜á´›á´› 
â•‘ â€¢âœ¨ á´›á´á´á´˜ğŸ¯ 
â•‘ â€¢âœ¨ á´„á´É´á´ á´‡Ê€á´› 
â•‘ â€¢âœ¨ á´›á´á´˜á´…Ò“ 
â•‘ â€¢âœ¨ á´€á´›á´›á´˜ 
â•‘ â€¢âœ¨ á´ ğ˜€á´›Éªá´„á´‹á´‡Ê€
â•‘ â€¢âœ¨ á´›Ê€á´› 
â•‘ â€¢âœ¨ á´›Éªá´‹á´›á´á´‹ğŸ® 
â•‘ â€¢âœ¨ á´œÊ€ÊŸ 
â•‘ â€¢âœ¨ á´¡á´‡á´€á´›Êœá´‡Ê€ 
â•‘ â€¢âœ¨ á´€Éªá´ á´Éªá´„á´‡ 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *É¢Ê€á´á´œá´˜ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ğŸ‘¤ Ê€á´‡á´Šá´‡á´„á´›á´€ÊŸÊŸ
â•‘ â€¢ğŸ‘¤ á´€á´„á´„á´‡á´˜á´›á´€ÊŸÊŸ 
â•‘ â€¢ğŸ‘¤ Ê€á´‡Ç«á´œá´‡ğ˜€á´›ÊŸÉªğ˜€á´› 
â•‘ â€¢ğŸ‘¤ É¢á´…á´‡ğ˜€á´„ 
â•‘ â€¢ğŸ‘¤ á´…á´‡á´á´á´›á´‡ 
â•‘ â€¢ğŸ‘¤ á´€á´…á´ÉªÉ´ 
â•‘ â€¢ğŸ‘¤ á´€á´…á´… 
â•‘ â€¢ğŸ‘¤ á´‹Éªá´„á´‹ 
â•‘ â€¢ğŸ‘¤ ÊœÉªá´…á´‡á´›á´€É¢
â•‘ â€¢ğŸ‘¤ á´›á´€É¢á´€ÊŸÊŸ 
â•‘ â€¢ğŸ‘¤ á´€É´á´›ÉªÊŸÉªÉ´á´‹ 
â•‘ â€¢ğŸ‘¤ á´˜Ê€á´á´á´á´›á´‡
â•‘ â€¢ğŸ‘¤ ğ˜€á´‡á´›á´…á´‡ğ˜€á´„
â•‘ â€¢ğŸ‘¤ É¢Ê€á´á´œá´˜ 
â•‘ â€¢ğŸ‘¤ É¢á´„ğ˜€á´‡á´›á´›ÉªÉ´É¢ 
â•‘ â€¢ğŸ‘¤ á´¡á´‡ÊŸá´„á´á´á´‡
â•‘ â€¢ğŸ‘¤ É¢É´á´€á´á´‡ 
â•‘ â€¢ğŸ‘¤ É¢ÉªÉ´Ò“á´ 
â•‘ â€¢ğŸ‘¤ á´Šá´ÉªÉ´ 
â•‘ â€¢ğŸ‘¤ ÉªÉ´á´ Éªá´›á´‡ÊŸ 
â•‘ â€¢ğŸ‘¤ á´ á´„Ò“ÊŸ 
â•‘ â€¢ğŸ‘¤ ÊŸá´‡Ò“á´› 
â•‘ â€¢ğŸ‘¤ É´á´‡á´¡É¢á´„ 
â•‘ â€¢ğŸ‘¤ á´á´œá´›á´‡ 
â•‘ â€¢ğŸ‘¤ ÊŸá´á´„á´‹É¢á´„ 
â•‘ â€¢ğŸ‘¤ á´˜á´ÊŸÊŸÊŸ 
â•‘ â€¢ğŸ‘¤ á´á´œá´› 
â•‘ â€¢ğŸ‘¤ Ê€á´‡á´á´á´ á´‡á´€ÊŸÊŸğŸ® 
â•‘ â€¢ğŸ‘¤ Ê€á´‡á´á´á´ á´‡á´€á´…á´ÉªÉ´ğ˜€ 
â•‘ â€¢ğŸ‘¤ á´œÉ´ÊŸá´á´„á´‹É¢á´„ 
â•‘ â€¢ğŸ‘¤ á´œÉ´á´á´œá´›á´‡ÊŸ
â•‘ â€¢ğŸ‘¤ Ê™Ê€á´á´€á´…á´„á´€ğ˜€á´› 
â•‘ â€¢ğŸ‘¤ á´›á´€É¢á´€á´…á´ÉªÉ´ğ˜€ 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *ğ˜€á´‡á´€Ê€á´„Êœ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ğŸ•Šï¸ ğ˜€á´€á´… 
â•‘ â€¢ğŸ•Šï¸ á´€É´É¢Ê€Ê 
â•‘ â€¢ğŸ•Šï¸ Êœá´€á´˜á´˜Ê 
â•‘ â€¢ğŸ•Šï¸ Êœá´‡á´€Ê€á´› 
â•‘ â€¢ğŸ•Šï¸ Êœá´á´› 
â•‘ â€¢ğŸ•Šï¸ á´„á´É´Ò“á´œğ˜€á´‡á´… 
â•‘ â€¢ğŸ•Šï¸ á´á´á´É´ 
â•‘ â€¢ğŸ•Šï¸ ğ˜€ÊœÊ 
â•‘ â€¢ğŸ•Šï¸ É´Éªá´‹á´€ÊŸ 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *á´á´€ÉªÉ´ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢âœ¨ á´€á´œá´›á´-á´›Êá´˜ÉªÉ´É¢
â•‘ â€¢âœ¨ á´á´á´…á´‡ 
â•‘ â€¢âœ¨ ğ˜€á´‡á´›á´˜Ê€á´‡Ò“Éªğ˜… 
â•‘ â€¢âœ¨ á´€á´…á´ÉªÉ´-á´‡á´ á´‡É´á´›ğ˜€ 
â•‘ â€¢âœ¨ á´á´‡É´á´›Éªá´É´-Ê€á´‡á´˜ÊŸÊ 
â•‘ â€¢âœ¨ á´€ÊŸá´¡á´€Êğ˜€-á´É´ÊŸÉªÉ´á´‡ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-Ê€á´‡á´„á´Ê€á´…ÉªÉ´É¢ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-ğ˜€á´‡á´‡É´ 
â•‘ â€¢âœ¨ ğ˜€á´›á´€á´›á´œğ˜€-Ê€á´‡á´€á´„á´› 
â•‘ â€¢âœ¨ Ê€á´‡á´€á´…-á´á´‡ğ˜€ğ˜€á´€É¢á´‡ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-á´ á´Éªá´„á´‡
â•‘ â€¢âœ¨ á´€É´á´›Éª-Ê™á´€á´… 
â•‘ â€¢âœ¨ á´€á´œá´›á´-ğ˜€á´›Éªá´„á´‹á´‡Ê€ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-Ê€á´‡á´˜ÊŸÊ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-Ê€á´‡á´€á´„á´›
â•‘ â€¢âœ¨ ğ˜€á´›á´€á´›á´œğ˜€-Ê€á´‡á´˜ÊŸÊ 
â•‘ â€¢âœ¨ á´…á´‡ÊŸá´‡á´›á´‡ÊŸÉªÉ´á´‹ 
â•‘ â€¢âœ¨ á´€É´á´›ÉªÊŸÉªÉ´á´‹ 
â•‘ â€¢âœ¨ á´€É´á´›ÉªÊŸÉªÉ´á´‹á´‹Éªá´„á´‹ 
â•‘ â€¢âœ¨ á´€É´á´›Éªá´„á´€ÊŸÊŸ 
â•‘ â€¢âœ¨ á´˜Ê€Éªá´ á´€á´„Ê 
â•‘ â€¢âœ¨ Ê™ÊŸá´á´„á´‹ÊŸÉªğ˜€á´› 
â•‘ â€¢âœ¨ É¢á´‡á´›Ê™Éªá´ 
â•‘ â€¢âœ¨ ğ˜€á´‡á´›á´É´ÊŸÉªÉ´á´‡
â•‘ â€¢âœ¨ ğ˜€á´‡á´›á´˜á´˜ 
â•‘ â€¢âœ¨ ğ˜€á´‡á´›á´ÊÉ´á´€á´á´‡
â•‘ â€¢âœ¨ á´œá´˜á´…á´€á´›á´‡Ê™Éªá´
â•‘ â€¢âœ¨ ğ˜€á´‡á´›á´˜á´˜á´€ÊŸÊŸ
â•‘ â€¢âœ¨ É¢á´‡á´›á´˜Ê€Éªá´ á´€á´„Ê 
â•‘ â€¢âœ¨ É¢Ê€á´á´œá´˜ğ˜€á´˜Ê€Éªá´ á´€á´„Ê 
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *${config.DESCRIPTION}*`;

        // Random image from /scs folder
        const scsFolder = path.join(__dirname, "../scs");
        const images = fs.readdirSync(scsFolder).filter(f => /^menu\d+\.jpg$/i.test(f));
        let selectedImagePath;
        if (images.length > 0) {
            const randomImage = images[Math.floor(Math.random() * images.length)];
            selectedImagePath = path.join(scsFolder, randomImage);
        } else {
            selectedImagePath = null;
        }

        await conn.sendMessage(
            from,
            {
                image: selectedImagePath ? fs.readFileSync(selectedImagePath) : Buffer.alloc(0),
                caption: dec,
                contextInfo: {
                    mentionedJid: [m.sender],
                    forwardingScore: 999,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid: '120363382023564830@newsletter',
                        newsletterName: 'ğ—¡ğ—¢ğ—©ğ—”-ğ—«ğ— ğ—— ğŸš˜',
                        serverMessageId: 143
                    }
                }
            },
            { quoted: mek }
        );

    } catch (e) {
        console.log(e);
        reply(`${e}`);
    }
});
