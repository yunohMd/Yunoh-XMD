const config = require('../config');
const { cmd, commands } = require('../command');
const os = require("os");
const { runtime } = require('../lib/functions');
const fs = require("fs");
const path = require("path");

// Friend's Blue Tick vCard
const quotedContact = {
  key: {
    fromMe: false,
    participant: `0@s.whatsapp.net`,
    remoteJid: "status@broadcast"
  },
  message: {
    contactMessage: {
      displayName: "NOVA-XMD VERIFIED âœ…",
      vcard: `BEGIN:VCARD
VERSION:3.0
FN:B.M.B VERIFIED âœ…
ORG:BMB-TECH BOT;
TEL;type=CELL;type=VOICE;waid=255767862457:+255767862457
END:VCARD`
    }
  }
};

cmd({
  pattern: "menu",
  alias: ["allmenu", "command"],
  use: '.menu',
  desc: "menu the bot",
  category: "menu",
  react: "ğŸ”°",
  filename: __filename
}, async (conn, mek, m, {
  from,
  reply
}) => {
  try {
    const randomIndex = Math.floor(Math.random() * 10) + 1;
    const imagePath = path.join(__dirname, '..', 'plugins', `menu${randomIndex}.jpg`);
    const imageBuffer = fs.readFileSync(imagePath);

    let dec = `â•­â”ã€”*ğŸš€ ğ—¡ğ—¢ğ—©ğ—”-ğ—«ğ— ğ—— ğŸš€*ã€•â”â”â”ˆâŠ·
â”ƒâ’â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”ƒâ’â”‚ ğŸ‘‘ *Ê€á´œÉ´á´›Éªá´á´‡:* ${runtime(process.uptime())}
â”ƒâ’â”‚ ğŸ•¹ï¸ *á´á´á´…á´‡:* *${config.MODE}*
â”ƒâ’â”‚ ğŸ¯ *á´˜Ê€á´‡Ò“Éªx:* *${config.PREFIX}*
â”ƒâ’â”‚ ğŸ’¡ *Ê€á´€á´ á´œsá´‡:* ${(process.memoryUsage().heapUsed / 1024 / 1024).toFixed(2)} GB / ${Math.round(require('os').totalmem / 1024 / 1024)} GB
â”ƒâ’â”‚ ğŸ‘‘ *á´…á´‡á´ :* *ğ™±.ğ™¼.ğ™±-ğšƒğ™´ğ™²ğ™·*
â”ƒâ’â”‚ ğŸš€ *á´ á´‡Ê€sÉªá´É´:* *1.0.0*
â”ƒâ’â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *á´„á´É´á´ á´‡Ê€á´›á´‡Ê€ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ğŸ’« É¢á´˜á´› 
â•‘ â€¢ğŸ’« á´€Éª 
â•‘ â€¢ğŸ’« á´ á´  
â•‘ â€¢ğŸ’« á´ á´ ğŸ® 
â•‘ â€¢ğŸ’« Ê™ÉªÊ™ÊŸá´‡ 
â•‘ â€¢ğŸ’« á´„Êœá´€É´É´á´‡ÊŸ
â•‘ â€¢ğŸ’« á´œÉ´Ê™ÊŸá´á´„á´‹ 
â•‘ â€¢ğŸ’« Ê™ÊŸá´á´„á´‹ 
â•‘ â€¢ğŸ’« á´œá´˜á´›Éªá´á´‡
â•‘ â€¢ğŸ’« á´„Êœá´‡á´„á´‹á´œá´˜á´…á´€á´›á´‡ 
â•‘ â€¢ğŸ’« á´„Êœá´‡á´„á´‹
â•‘ â€¢ğŸ’« á´ŠÉªá´… 
â•‘ â€¢âœ¨ á´˜ÉªÉ´É¢ 
â•‘ â€¢ğŸ’« á´˜á´€ÉªÊ€
â•‘ â€¢âœ¨ á´á´¡É´á´‡Ê€ 
â•‘ â€¢ğŸ’« É¢á´‡á´›á´˜á´˜ 
â•‘ â€¢ğŸ’« É¢Éªá´›á´„ÊŸá´É´á´‡ 
â•‘ â€¢ğŸ’« É¢Éªá´›Êœá´œÊ™ 
â•‘ â€¢ğŸ­ ÊŸÉªğ˜€á´›á´É´ÊŸÉªÉ´á´‡ 
â•‘ â€¢ğŸ­ ÊŸá´É¢á´á´á´‡É´á´œ 
â•‘ â€¢ğŸ­ á´€ÊŸÉªá´ á´‡ 
â•‘ â€¢ğŸ­ á´á´‡É´á´œ 
â•‘ â€¢âœ¨ Ê€á´‡á´˜á´ 
â•‘ â€¢ğŸ­ ğ˜€á´›á´€Ê™ÊŸá´‡á´…ÉªÒ“Ò“á´œğ˜€Éªá´É´ 
â•‘ â€¢ğŸ’« á´‡Ê™ÉªÉ´á´€Ê€Ê 
â•‘ â€¢ğŸ’« á´…Ê™ÉªÉ´á´€Ê€Ê 
â•‘ â€¢ğŸ’« á´á´˜ğŸ¯ 
â•‘ â€¢ğŸ’« á´€á´›á´›á´˜ 
â•‘ â€¢âœ¨ á´˜á´ğ˜€á´› 
â•‘ â€¢âœ¨ Êœá´€á´„á´‹ 
â•‘ â€¢âœ¨ Ç«á´œÊ€á´€É´ 
â•‘ â€¢âœ¨ Ç«á´œÊ€á´€É´á´á´‡É´á´œ
â•‘ â€¢âœ¨ Ê€á´‡ğ˜€á´›á´€Ê€á´› 
â•‘ â€¢âœ¨ ğ˜€á´‡É´á´… 
â•‘ â€¢âœ¨ ğ˜€á´›Éªá´„á´‹á´‡Ê€ 
â•‘ â€¢âœ¨ á´›á´€á´‹á´‡ 
â•‘ â€¢âœ¨ á´˜á´‡Ê€ğ˜€á´É´ 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *á´›á´á´ÊŸğ˜€ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ğŸ­ Ò“Ê™
â•‘ â€¢ğŸ­ á´˜ÊŸá´€Ê 
â•‘ â€¢ğŸ­ á´˜ÊŸá´€ÊğŸ­ 
â•‘ â€¢ğŸ­ á´˜ÊŸá´€ÊğŸ® 
â•‘ â€¢ğŸ­ á´€á´˜á´‹ 
â•‘ â€¢ğŸ­ á´ Éªá´…á´‡á´ 
â•‘ â€¢ğŸ­ á´ Éªá´…á´‡á´ğŸ­ 
â•‘ â€¢ğŸ­ Éªá´É¢ 
â•‘ â€¢ğŸ­ á´›Éªá´‹á´›á´á´‹ 
â•‘ â€¢ğŸ­ Ò“á´€É´á´„Ê 
â•‘ â€¢ğŸ­ É¢á´‡á´›Éªá´á´€É¢á´‡ 
â•‘ â€¢ğŸ­ Éªá´É¢ğ˜€á´„á´€É´ 
â•‘ â€¢ğŸ­ ğ˜€á´›á´€Ê™ÉªÊŸÉªá´›Êá´€Éª 
â•‘ â€¢ğŸ­ Ò“ÊŸá´œğ˜…á´€Éª 
â•‘ â€¢ğŸ­ ÉªÊÊ€Éªá´„ğ˜€ 
â•‘ â€¢âœ¨ á´á´á´ Éªá´‡ 
â•‘ â€¢âœ¨ ğ˜€á´„Ê€á´‡á´‡É´ğ˜€Êœá´á´› 
â•‘ â€¢âœ¨ Ê€á´¡ 
â•‘ â€¢âœ¨ á´›ÉªÉ´Ê 
â•‘ â€¢âœ¨ á´›Éªá´‹á´›á´á´‹ğ˜€á´‡á´€Ê€á´„Êœ 
â•‘ â€¢âœ¨ á´›á´á´˜á´›á´› 
â•‘ â€¢âœ¨ á´›á´á´á´˜ğŸ¯ 
â•‘ â€¢âœ¨ á´„á´É´á´ á´‡Ê€á´› 
â•‘ â€¢âœ¨ á´ ğ˜€á´›Éªá´„á´‹á´‡Ê€
â•‘ â€¢âœ¨ á´›Ê€á´› 
â•‘ â€¢âœ¨ á´›Éªá´‹á´›á´á´‹ğŸ® 
â•‘ â€¢âœ¨ á´œÊ€ÊŸ 
â•‘ â€¢âœ¨ á´¡á´‡á´€á´›Êœá´‡Ê€ 
â•‘ â€¢âœ¨ á´€Éªá´ á´Éªá´„á´‡ 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *É¢Ê€á´á´œá´˜ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ğŸ‘¤ Ê€á´‡á´Šá´‡á´„á´›á´€ÊŸÊŸ
â•‘ â€¢ğŸ‘¤ á´€á´„á´„á´‡á´˜á´›á´€ÊŸÊŸ 
â•‘ â€¢ğŸ‘¤ Ê€á´‡Ç«á´œá´‡ğ˜€á´›ÊŸÉªğ˜€á´› 
â•‘ â€¢ğŸ‘¤ É¢á´…á´‡ğ˜€á´„ 
â•‘ â€¢ğŸ‘¤ á´…á´‡á´á´á´›á´‡ 
â•‘ â€¢ğŸ‘¤ á´€á´…á´ÉªÉ´ 
â•‘ â€¢ğŸ‘¤ á´€á´…á´… 
â•‘ â€¢ğŸ‘¤ á´‹Éªá´„á´‹ 
â•‘ â€¢ğŸ‘¤ ÊœÉªá´…á´‡á´›á´€É¢
â•‘ â€¢ğŸ‘¤ á´›á´€É¢á´€ÊŸÊŸ 
â•‘ â€¢ğŸ‘¤ á´€É´á´›ÉªÊŸÉªÉ´á´‹ 
â•‘ â€¢ğŸ‘¤ á´˜Ê€á´á´á´á´›á´‡
â•‘ â€¢ğŸ‘¤ ğ˜€á´‡á´›á´…á´‡ğ˜€á´„
â•‘ â€¢ğŸ‘¤ É¢Ê€á´á´œá´˜ 
â•‘ â€¢ğŸ‘¤ É¢á´„ğ˜€á´‡á´›á´›ÉªÉ´É¢ 
â•‘ â€¢ğŸ‘¤ á´¡á´‡ÊŸá´„á´á´á´‡
â•‘ â€¢ğŸ‘¤ É¢É´á´€á´á´‡ 
â•‘ â€¢ğŸ‘¤ É¢ÉªÉ´Ò“á´ 
â•‘ â€¢ğŸ‘¤ á´Šá´ÉªÉ´ 
â•‘ â€¢ğŸ‘¤ ÉªÉ´á´ Éªá´›á´‡ÊŸ 
â•‘ â€¢ğŸ‘¤ á´ á´„Ò“ÊŸ 
â•‘ â€¢ğŸ‘¤ ÊŸá´‡Ò“á´› 
â•‘ â€¢ğŸ‘¤ É´á´‡á´¡É¢á´„ 
â•‘ â€¢ğŸ‘¤ á´á´œá´›á´‡ 
â•‘ â€¢ğŸ‘¤ ÊŸá´á´„á´‹É¢á´„ 
â•‘ â€¢ğŸ‘¤ á´á´œá´› 
â•‘ â€¢ğŸ‘¤ Ê€á´‡á´á´á´ á´‡á´€ÊŸÊŸğŸ® 
â•‘ â€¢ğŸ‘¤ Ê€á´‡á´á´á´ á´‡á´€á´…á´ÉªÉ´ğ˜€ 
â•‘ â€¢ğŸ‘¤ á´œÉ´ÊŸá´á´„á´‹É¢á´„ 
â•‘ â€¢ğŸ‘¤ á´œÉ´á´á´œá´›á´‡ÊŸ
â•‘ â€¢ğŸ‘¤ á´›á´€É¢á´€á´…á´ÉªÉ´ğ˜€ 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ *á´á´€ÉªÉ´ á´á´‡É´á´œ* 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢âœ¨ á´€á´œá´›á´-á´›Êá´˜ÉªÉ´É¢
â•‘ â€¢âœ¨ á´á´á´…á´‡ 
â•‘ â€¢âœ¨ á´á´‡É´á´›Éªá´É´-Ê€á´‡á´˜ÊŸÊ 
â•‘ â€¢âœ¨ á´€ÊŸá´¡á´€Êğ˜€-á´É´ÊŸÉªÉ´á´‡ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-Ê€á´‡á´„á´Ê€á´…ÉªÉ´É¢
â•‘ â€¢âœ¨ ğ˜€á´›á´€á´›á´œğ˜€-Ê€á´‡á´€á´„á´› 
â•‘ â€¢âœ¨ Ê€á´‡á´€á´…-á´á´‡ğ˜€ğ˜€á´€É¢á´‡ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-á´ á´Éªá´„á´‡
â•‘ â€¢âœ¨ á´€á´œá´›á´-Ê€á´‡á´˜ÊŸÊ 
â•‘ â€¢âœ¨ á´€á´œá´›á´-Ê€á´‡á´€á´„á´›
â•‘ â€¢âœ¨ ğ˜€á´›á´€á´›á´œğ˜€-Ê€á´‡á´˜ÊŸÊ 
â•‘ â€¢âœ¨ á´…á´‡ÊŸá´‡á´›á´‡ÊŸÉªÉ´á´‹ 
â•‘ â€¢âœ¨ á´€É´á´›ÉªÊŸÉªÉ´á´‹ 
â•‘ â€¢âœ¨ á´€É´á´›ÉªÊŸÉªÉ´á´‹á´‹Éªá´„á´‹ 
â•‘ â€¢âœ¨ á´€É´á´›Éªá´„á´€ÊŸÊŸ 
â•‘ â€¢âœ¨ Ê™ÊŸá´á´„á´‹ÊŸÉªğ˜€á´› 
â•‘ â€¢âœ¨ É¢á´‡á´›Ê™Éªá´ 
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£

> á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê ğ™½ğ™¾ğš…ğ™°-ğš‡ğ™¼ğ™³ğŸš˜`;

    await conn.sendMessage(
      from,
      {
        image: imageBuffer,
        caption: dec,
        contextInfo: {
          mentionedJid: [m.sender],
          forwardingScore: 999,
          isForwarded: true,
          forwardedNewsletterMessageInfo: {
            newsletterJid: '120363382023564830@newsletter',
            newsletterName: 'ğ™±.ğ™¼.ğ™±-ğšƒğ™´ğ™²ğ™ƒ',
            serverMessageId: 143
          }
        }
      },
      { quoted: quotedContact }
    );

  } catch (e) {
    console.log(e);
    reply(`${e}`);
  }
});
